:root{
  --brand-blue: #2E9DF7; /* primary CTA */
  --brand-accent: #FFD166; /* warm accent, charity: water-ish */
  --brand-dark: #0b4f7a;
  --muted: #536b75;
  --bg: #f6fbfd;
  --card: #ffffff;
  --surface-alt: #f0f7fb;
}

* { box-sizing: border-box; }
html,body { height: 100%; }

body {
  font-family: 'Montserrat', Arial, sans-serif;
  margin: 0;
  padding: 30px;
  background: radial-gradient(1200px 400px at 10% 10%, rgba(46,157,247,0.12), transparent 12%), linear-gradient(180deg,#06203a 0%, #001528 100%);
  color: #eaf6ff;
}

.container {
  max-width: 920px;
  margin: 36px auto;
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,252,0.96));
  padding: 28px;
  border-radius: 14px;
  box-shadow: 0 18px 50px rgba(1,12,30,0.45);
  position:relative;
  overflow:hidden;
}

.container::before {
  content: '';
  position: absolute;
  left: -10%;
  top: -20%;
  width: 140%;
  height: 120%;
  background: radial-gradient(600px 200px at 50% 10%, rgba(46,157,247,0.06), transparent 30%);
  pointer-events: none;
  z-index:0;
}

.site-header { display:flex; align-items:center; gap:14px; margin-bottom:12px; }
.logo { height:48px; width:auto; display:block; max-width:45%; }
.site-header h1 { margin:0; font-size:22px; color:var(--brand-dark); }

/* Responsive header tweaks */
@media (max-width:480px) {
  .site-header { flex-direction:column; align-items:flex-start; gap:8px; }
  .logo { height:40px; max-width:100%; }
  h1 { font-size:18px; }
}

.game-instructions { color:#2f4f5a; margin:6px 0 16px; line-height:1.35; }
.top-controls { display:flex; gap:10px; align-items:center; margin-bottom:14px; flex-wrap:wrap; }
#difficulty { 
  padding:8px 12px; 
  border-radius:10px; 
  border:1px solid rgba(46,157,247,0.1);
  font-size:15px; 
  background:rgba(6,32,58,0.04);
  color:#06203a;
}

button {
  background: var(--brand-blue);
  color: #fff;
  border: none;
  padding:10px 14px;
  border-radius:12px;
  font-weight:700;
  cursor:pointer;
  box-shadow: 0 6px 18px rgba(46,157,247,0.12);
}
button.secondary { background:linear-gradient(180deg,#f5fbff,#eef7ff); color:var(--brand-dark); border:1px solid rgba(11,79,122,0.06); }

.stats { display:flex; gap:18px; align-items:center; color:#06203a; margin:12px 0 14px; flex-wrap:wrap; }
.stats p { 
  margin:0; 
  font-weight:700; 
  background:rgba(6,32,58,0.06);
  padding:6px 12px; 
  border-radius:10px;
  border:1px solid rgba(46,157,247,0.08);
  box-shadow: 0 2px 8px rgba(6,32,58,0.03);
}

.game-grid {
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:14px;
  margin: 10px auto 12px;
  max-width:640px;
}
.grid-cell {
  background: linear-gradient(180deg, rgba(6,32,58,0.9) 0%, rgba(0,21,40,0.95) 100%);
  border-radius:14px;
  min-height:120px;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  box-shadow: 0 6px 20px rgba(0,10,26,0.15), inset 0 1px 0 rgba(255,255,255,0.05);
  overflow:visible;
  border: 1px solid rgba(46,157,247,0.15);
}
.grid-cell:focus { outline:3px solid rgba(46,157,247,0.2); outline-offset:2px; }

/* Item buttons with images */
.water-can, .oil-tank {
  background: transparent;
  border: none;
  padding: 0;
  display: inline-block;
  cursor: pointer;
  border-radius: 12px;
}
.water-can-wrapper { display:flex; align-items:center; justify-content:center; transition: transform .26s cubic-bezier(.2,.9,.2,1), opacity .26s ease; will-change:transform,opacity; }
.water-can-wrapper.spawn { transform: translateY(-8px) scale(.6); opacity: 0; }
.water-can-wrapper.fade-out { transform: translateY(-6px) scale(.85); opacity: 0; }
.item-img {
  width:68px;
  height:68px;
  display:block;
  border-radius:12px;
  object-fit:contain;
  pointer-events: none;
  transition: transform .22s ease, opacity .22s ease;
}
.water-can .item-img { box-shadow:0 6px 18px rgba(46,157,247,0.18); }
.oil-tank .item-img { box-shadow: inset 0 -6px 12px rgba(0,0,0,0.35); }

.water-can.collected .item-img,
.water-can.collected img {
  transform: scale(.6);
  opacity: 0;
}
.oil-tank.hit .item-img,
.oil-tank.hit img {
  transform: scale(.9);
  opacity: .6;
}

.score-popup {
  position:fixed; pointer-events:none; background:rgba(255,255,255,0.98); padding:8px 12px; border-radius:10px;
  box-shadow:0 8px 26px rgba(0,0,0,0.12); font-weight:800; color:var(--brand-dark);
  transform:translateY(0); opacity:0; transition:transform .22s ease, opacity .22s ease; z-index:9999;
}
.score-popup.visible { transform:translateY(-14px); opacity:1; }
.score-popup.negative { color:#c0392b; }

.achievement { min-height:36px; margin-bottom:8px; color:var(--brand-dark); font-weight:600; }
.site-footer { margin-top:22px; text-align:center; font-size:14px; color:var(--muted); }
.site-footer a { color: #2E9DF7; text-decoration:none; font-weight:600; }

.confetti { position:fixed; width:10px; height:14px; will-change:transform; pointer-events:none; z-index:9998; border-radius:2px; opacity:.95; }

@media (max-width:600px) {
  .container { padding:20px; margin:18px; }
  .game-grid { gap:10px; max-width:100%; }
  .top-controls { flex-direction:column; align-items:stretch; gap:8px; }
  .grid-cell { height:100px; }
  .item-img { width:60px; height:60px; }
}